<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="shortcut icon"
        href="data:image/jpg;base64,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" />
    <title>语音合成</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: hsl(0, 0%, 72%);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        a {
            color: #007BFF;
            /* 设置链接颜色 */
            text-decoration: none;
            /* 去除下划线 */
            transition: color 0.3s;
            /* 添加颜色过渡效果 */
        }

        .container {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 600px;
            overflow: hidden;
        }


        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        label,
        select,
        textarea,
        input[type="range"] {
            display: block;
            width: 100%;
            padding: 8px;
            border: 2px solid #ccc;
            border-radius: 5px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #555;
            box-sizing: border-box;
            /* Include padding and border in width */
        }

        textarea {
            resize: vertical;
            /* Allow vertical resizing */
        }

        input[type="range"] {
            cursor: pointer;
            box-sizing: border-box;
        }


        button {
            width: 100%;
            padding: 12px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #45a049;
        }

        audio {
            display: block;
            width: 100%;
            margin-top: 20px;
        }

        @media screen and (max-width: 600px) {
            .container {
                padding: 10px;
            }
    </style>
</head>

<body>
    <div class="container">
        <h1 style="text-align:center;">自然语音合成</h1>
        <h3 style="text-align:center;">由微软<a href="https://speech.microsoft.com/portal">Azure</a>提供能力</h3>
        <p>选择声音：</p>
        <select id="voiceSelect"></select>
        <p>选择声音风格：</p>
        <select id="voiceStyleSelect"></select>
        <p>调整语速</p>
        <input type="range" id="rateRange" min="0" max="100" value="0">
        <p>调整音调</p>
        <input type="range" id="pitchRange" min="0" max="100" value="0">
        <p>输入待转语音的文本，不超过300字：</p>
        <textarea id="ssmlInput" rows="6"></textarea>
        <div style="margin-bottom: 5px;">
            <button onclick="playAudio()">播放音频</button>
        </div>
        <div style="margin-bottom: 10px;">
            <button onclick="downloadAudio()">下载音频</button>
        </div>


        <audio id="audioPlayer" controls></audio>
        <p style="text-align:center;">遵守<a href="https://privacy.microsoft.com/zh-cn/privacystatement">微软隐私权政策</a> /  <a href="https://api.810088.xyz">GPT中转API</a> /  <a href="https://www.365mb.net">网科阁源码</a></p>
		<p style="text-align:center;">本站不存储任何您的信息，所有版权归Microsoft Azure或对应权利人所有</p>
    </div>




    <script>
        const voiceStyles = [{ "LocalName": "晓萱", "ShortName": "zh-CN-XiaoxuanNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "gentle", "depressed", "Default"] }, { "LocalName": "晓辰", "ShortName": "zh-CN-XiaochenNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓晓", "ShortName": "zh-CN-XiaoxiaoNeural", "VoiceStyleNames": ["assistant", "chat", "customerservice", "newscast", "affectionate", "angry", "calm", "cheerful", "disgruntled", "fearful", "gentle", "lyrical", "sad", "serious", "poetry-reading", "friendly", "Default"] }, { "LocalName": "晓涵", "ShortName": "zh-CN-XiaohanNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "gentle", "affectionate", "embarrassed", "Default"] }, { "LocalName": "晓甄", "ShortName": "zh-CN-XiaozhenNeural", "VoiceStyleNames": ["angry", "disgruntled", "cheerful", "fearful", "sad", "serious", "Default"] }, { "LocalName": "云健", "ShortName": "zh-CN-YunjianNeural", "VoiceStyleNames": ["narration-relaxed", "sports-commentary", "sports-commentary-excited", "angry", "disgruntled", "cheerful", "sad", "serious", "depressed", "documentary-narration", "Default"] }, { "LocalName": "晓颜", "ShortName": "zh-CN-XiaoyanNeural", "VoiceStyleNames": [""] }, { "LocalName": "晓伊", "ShortName": "zh-CN-XiaoyiNeural", "VoiceStyleNames": ["angry", "disgruntled", "affectionate", "cheerful", "fearful", "sad", "embarrassed", "serious", "gentle", "Default"] }, { "LocalName": "云皓", "ShortName": "zh-CN-YunhaoNeural", "VoiceStyleNames": ["advertisement-upbeat", "Default"] }, { "LocalName": "晓双", "ShortName": "zh-CN-XiaoshuangNeural", "VoiceStyleNames": ["chat", "Default"] }, { "LocalName": "晓梦", "ShortName": "zh-CN-XiaomengNeural", "VoiceStyleNames": ["chat", "Default"] }, { "LocalName": "云枫", "ShortName": "zh-CN-YunfengNeural", "VoiceStyleNames": ["angry", "disgruntled", "cheerful", "fearful", "sad", "serious", "depressed", "Default"] }, { "LocalName": "云泽", "ShortName": "zh-CN-YunzeNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "depressed", "documentary-narration", "Default"] }, { "LocalName": "晓秋", "ShortName": "zh-CN-XiaoqiuNeural", "VoiceStyleNames": [""] }, { "LocalName": "云野", "ShortName": "zh-CN-YunyeNeural", "VoiceStyleNames": ["embarrassed", "calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "Default"] }, { "LocalName": "晓睿", "ShortName": "zh-CN-XiaoruiNeural", "VoiceStyleNames": ["calm", "fearful", "angry", "sad", "Default"] }, { "LocalName": "云希", "ShortName": "zh-CN-YunxiNeural", "VoiceStyleNames": ["narration-relaxed", "embarrassed", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "depressed", "chat", "assistant", "newscast", "Default"] }, { "LocalName": "晓悠", "ShortName": "zh-CN-XiaoyouNeural", "VoiceStyleNames": [""] }, { "LocalName": "云夏", "ShortName": "zh-CN-YunxiaNeural", "VoiceStyleNames": ["calm", "fearful", "cheerful", "angry", "sad", "Default"] }, { "LocalName": "云扬", "ShortName": "zh-CN-YunyangNeural", "VoiceStyleNames": ["customerservice", "narration-professional", "newscast-casual", "Default"] }, { "LocalName": "晓墨", "ShortName": "zh-CN-XiaomoNeural", "VoiceStyleNames": ["embarrassed", "calm", "fearful", "cheerful", "disgruntled", "serious", "angry", "sad", "depressed", "affectionate", "gentle", "envious", "Default"] }]

        const voiceSelect = document.getElementById("voiceSelect");
        const voiceStyleSelect = document.getElementById("voiceStyleSelect");

        // 添加声音选项到下拉菜单
        voiceStyles.forEach(voiceStyle => {
            const option = document.createElement("option");
            option.value = voiceStyle.ShortName;
            option.text = voiceStyle.LocalName;
            voiceSelect.appendChild(option);
        });

        // 更新声音风格选项
        function updateVoiceStyleOptions() {
            const selectedVoice = voiceSelect.value;
            const selectedVoiceStyle = voiceStyles.find(voiceStyle => voiceStyle.ShortName === selectedVoice);

            // 清空现有选项
            while (voiceStyleSelect.firstChild) {
                voiceStyleSelect.removeChild(voiceStyleSelect.firstChild);
            }

            // 添加新选项
            if (selectedVoiceStyle && selectedVoiceStyle.VoiceStyleNames) {
                selectedVoiceStyle.VoiceStyleNames.forEach(voiceStyleName => {
                    const option = document.createElement("option");
                    option.value = voiceStyleName;
                    option.text = voiceStyleName;
                    voiceStyleSelect.appendChild(option);
                });
            }
        }

        // 当声音选项更改时更新声音风格选项
        voiceSelect.addEventListener("change", updateVoiceStyleOptions);

        function playAudio() {
            const voice = document.getElementById("voiceSelect").value;
            const voiceStyle = document.getElementById("voiceStyleSelect").value;
            const rate = document.getElementById("rateRange").value;
            const pitch = document.getElementById("pitchRange").value;
            const text = document.getElementById("ssmlInput").value;

            const audioPlayer = document.getElementById("audioPlayer");

            const url = `/audio?voice=${encodeURIComponent(voice)}&voiceStyle=${encodeURIComponent(voiceStyle)}&rate=${encodeURIComponent(rate)}&pitch=${encodeURIComponent(pitch)}&text=${encodeURIComponent(text)}`;
            console.log(voiceStyle);
            audioPlayer.src = url;
            audioPlayer.onerror = function () {
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        console.log(data);
                        alert("Failed to generate audio")
                        const errorText = "Failed to generate audio: " + data.error;

                    })
                    .catch(error =>
                        console.log(error));
            };
            audioPlayer.play();
        }
        function downloadAudio() {
            const voice = document.getElementById("voiceSelect").value;
            const voiceStyle = document.getElementById("voiceStyleSelect").value;
            const rate = document.getElementById("rateRange").value;
            const pitch = document.getElementById("pitchRange").value;
            const text = document.getElementById("ssmlInput").value;

            const url = `/audio?voice=${encodeURIComponent(voice)}&voiceStyle=${encodeURIComponent(voiceStyle)}&rate=${encodeURIComponent(rate)}&pitch=${encodeURIComponent(pitch)}&text=${encodeURIComponent(text)}`;

            const link = document.createElement('a');
            link.href = url;
            link.download = 'audio.mp3';
            link.style.display = 'none';

            document.body.appendChild(link);

            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>

</html>
